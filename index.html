<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>결혼정보회사 가입비 알아보기</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      padding: 20px;
      margin: 0;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 30px 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
      font-size: 24px;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      font-size: 16px;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      box-sizing: border-box;
    }
    button {
      background-color: #4CAF50;
      color: white;
      font-size: 18px;
      cursor: pointer;
      margin-top: 25px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #45a049;
    }
    #result {
      margin-top: 25px;
      padding: 18px;
      background: #e0f7fa;
      border-radius: 8px;
      font-size: 16px;
      text-align: center;
      display: none;
    }
    @media (max-width: 480px) {
      .container {
        padding: 20px 15px;
      }
      h1, h2 {
        font-size: 20px;
      }
      label, input, select, button {
        font-size: 14px;
      }
      button {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>결혼정보회사 가입비 알아보기</h1>
    <form id="profileForm">
      <h2>1. 내 프로필</h2>
      <label>이름</label>
      <input type="text" name="name" required>

      <label>성별</label>
      <select name="gender" required>
        <option value="">선택</option>
        <option value="남성">남성</option>
        <option value="여성">여성</option>
      </select>

      <label>나이</label>
      <input type="number" name="age" required>

      <label>거주지</label>
      <input type="text" name="location" required>

      <label>학력</label>
      <select name="education" required>
        <option value="">선택</option>
        <option>고졸</option>
        <option>초대졸</option>
        <option>대졸</option>
        <option>석사</option>
        <option>박사</option>
      </select>

      <label>연봉 (만원)</label>
      <input type="number" name="income" required>

      <label>직업</label>
      <select name="job" required>
        <option value="">선택</option>
        <option>회사원</option>
        <option>자영업</option>
        <option>전문직</option>
        <option>공무원</option>
        <option>사업가</option>
        <option>특수직</option>
      </select>

      <label>자산 (만원)</label>
      <input type="number" name="wealth" required>

      <label>외모 수준</label>
      <select name="appearance" required>
        <option value="">선택</option>
        <option>존잘/존예</option>
        <option>잘생/예쁨</option>
        <option>평범</option>
        <option>평범 이하</option>
        <option>마음만은 훈훈</option>
      </select>

      <h2>2. 이상형 조건</h2>
      <label>연령대</label>
      <select name="ideal_age_range" required>
        <option value="">선택</option>
        <option>25~29</option>
        <option>30~34</option>
        <option>35~39</option>
        <option>40~44</option>
        <option>45~49</option>
        <option>50~54</option>
        <option>55~59</option>
        <option>60~</option>
      </select>

      <label>학력</label>
      <select name="ideal_education" required>
        <option value="">선택</option>
        <option>고졸</option>
        <option>초대졸</option>
        <option>대졸</option>
        <option>석사</option>
        <option>박사</option>
      </select>

      <label>연봉 (만원)</label>
      <input type="number" name="ideal_income" required>

      <label>직업</label>
      <select name="ideal_job" required>
        <option value="">선택</option>
        <option>회사원</option>
        <option>자영업</option>
        <option>전문직</option>
        <option>공무원</option>
        <option>사업가</option>
        <option>특수직</option>
      </select>

      <label>외모 선호</label>
      <select name="ideal_appearance" required>
        <option value="">선택</option>
        <option>존잘/존예</option>
        <option>강아지상</option>
        <option>고양이상</option>
        <option>여우상</option>
        <option>공룡상</option>
        <option>평균이상</option>
        <option>외모 안봄</option>
      </select>

      <label>전화번호</label>
      <input type="tel" name="phone" required>

      <button type="submit">가입비 알아보기</button>
    </form>

    <div id="result"></div>
  </div>

  <script>
  document.getElementById('profileForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = new FormData(e.target);

    if (!confirm('입력된 번호로 가입비 할인 안내됩니다. 이대로 진행하시겠습니까?')) return;

    const data = {};
    form.forEach((value, key) => {
      data[key] = value;
    });

    // 가입비 예상값 산출 (고정 예시값 사용 중)
    const feeEstimate = "400~500만원대";
    data['fee_estimate'] = feeEstimate; // 이 줄이 핵심!

    fetch('https://api.sheetbest.com/sheets/afc89a9d-4771-437a-9bd7-e1761d1c0e17', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(() => {
      document.getElementById('result').style.display = 'block';
      document.getElementById('result').innerText = `예상 가입비는 ${feeEstimate}입니다.
(입력하신 조건 기준 산출된 예시입니다. 입력하신 연락처로 가입비 할인 안내 예정입니다)`;
    })
    .catch(() => {
      alert('제출 중 오류가 발생했습니다.');
    });
  });
</script>
